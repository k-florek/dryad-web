doctype html
head
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
  meta(name='description' content='')
  meta(name='author' content='Kelsey Florek')
  title Dryad Dashboard
  link(href='/css/bootstrap/bootstrap.min.css' rel='stylesheet')
  link(href='/css/datatables/jquery.dataTables.min.css' rel='stylesheet')
  style.
    .bd-placeholder-img {
    font-size: 1.125rem;
    text-anchor: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }
    @media (min-width: 768px) {
    .bd-placeholder-img-lg {
    font-size: 3.5rem;
    }
    }
  //datatables script
  script(src='/js/jquery/jquery.js')
  script.
    $(document).ready(function() {
      var table = $('#userlist').DataTable( {
          "columnDefs": [ {
              "searchable": false,
              "orderable": false,
              "targets": 0
          } ],
          "order": [[ 3, 'asc' ]]
      } );
      
      $('#userlist tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('selected');
      } );
 
      $('#button').click( function () {
          alert( table.rows('.selected').data().length +' row(s) selected' );
      } );
   
      table.on( 'order.dt search.dt', function () {
          table.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
              cell.innerHTML = i+1;
          } );
      } ).draw();
    } );
  // Custom styles for this template
  link(href='/css/dashboard.css' rel='stylesheet')
nav.navbar.navbar-dark.fixed-top.bg-dark.flex-md-nowrap.p-0.shadow
  a.navbar-brand.col-sm-3.col-md-2.mr-0(href='#') Dryad Analysis Platform
  //input.form-control.form-control-dark.w-100(type='text' placeholder='Search' aria-label='Search')
  ul.navbar-nav.px-3
    li Welcome #{user} 
.container-fluid
  .row
    nav.col-md-2.d-none.d-md-block.bg-light.sidebar
      .sidebar-sticky
        ul.nav.flex-column
          li.nav-item
            a.nav-link.active(href='#')
              span(data-feather='home')
              |               Dashboard 
              span.sr-only (current)
          li.nav-item
            a.nav-link(href='/submission')
              span(data-feather='file')
              |               Submit
          if admin
            li.nav-item
              a.nav-link(href='/userlist')
                span(data-feather='shopping-cart')
                |               Users
            li.nav-item
              a.nav-link(href='/register')
                span(data-feather='users')
                |               Register New User
          li.nav-item
            a.nav-link(href='/signout')
              span(data-feather='file-text')
              |               Sign out
    main.col-md-9.ml-sm-auto.col-lg-10.px-4(role='main')
      h2 User List
      .table-responsive
        table(id="userlist").table.table-striped.table-sm
          thead
            tr
              th #
              th Username
              th Administrator
              th Group
              th ID
          tbody
            each item in userlist
              tr
                td
                td= item.username
                td= item.admin
                td= item.group
                td= item._id
script(src='/js/datatables/jquery.dataTables.min.js')
script.
  window.jQuery || document.write('<script src="/js/jquery/jquery-slim.min.js"><\\/script>')
script(src='/js/bootstrap/bootstrap.bundle.min.js')
